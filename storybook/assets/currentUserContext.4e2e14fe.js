import{j as k,R as w,r as N}from"./jsx-runtime.216c1028.js";import{g as Ot}from"./iframe.89f75709.js";import{c as xt}from"./clsx.m.c5ef2623.js";import{R as At}from"./index.f218e96b.js";import{_ as M,b as et}from"./react-router-dom.481cbd2f.js";var tt={exports:{}},me={exports:{}},rt=function(e,n){return function(){for(var r=new Array(arguments.length),i=0;i<r.length;i++)r[i]=arguments[i];return e.apply(n,r)}},Ut=rt,P=Object.prototype.toString;function ye(t){return P.call(t)==="[object Array]"}function de(t){return typeof t>"u"}function Nt(t){return t!==null&&!de(t)&&t.constructor!==null&&!de(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function Pt(t){return P.call(t)==="[object ArrayBuffer]"}function Tt(t){return typeof FormData<"u"&&t instanceof FormData}function It(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function Ft(t){return typeof t=="string"}function Lt(t){return typeof t=="number"}function nt(t){return t!==null&&typeof t=="object"}function B(t){if(P.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function jt(t){return P.call(t)==="[object Date]"}function qt(t){return P.call(t)==="[object File]"}function Qt(t){return P.call(t)==="[object Blob]"}function st(t){return P.call(t)==="[object Function]"}function kt(t){return nt(t)&&st(t.pipe)}function _t(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}function Dt(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Bt(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function be(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),ye(t))for(var n=0,s=t.length;n<s;n++)e.call(null,t[n],n,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(null,t[r],r,t)}function he(){var t={};function e(r,i){B(t[i])&&B(r)?t[i]=he(t[i],r):B(r)?t[i]=he({},r):ye(r)?t[i]=r.slice():t[i]=r}for(var n=0,s=arguments.length;n<s;n++)be(arguments[n],e);return t}function $t(t,e,n){return be(e,function(r,i){n&&typeof r=="function"?t[i]=Ut(r,n):t[i]=r}),t}function Mt(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}var S={isArray:ye,isArrayBuffer:Pt,isBuffer:Nt,isFormData:Tt,isArrayBufferView:It,isString:Ft,isNumber:Lt,isObject:nt,isPlainObject:B,isUndefined:de,isDate:jt,isFile:qt,isBlob:Qt,isFunction:st,isStream:kt,isURLSearchParams:_t,isStandardBrowserEnv:Bt,forEach:be,merge:he,extend:$t,trim:Dt,stripBOM:Mt},T=S;function we(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var it=function(e,n,s){if(!n)return e;var r;if(s)r=s(n);else if(T.isURLSearchParams(n))r=n.toString();else{var i=[];T.forEach(n,function(c,u){c===null||typeof c>"u"||(T.isArray(c)?u=u+"[]":c=[c],T.forEach(c,function(h){T.isDate(h)?h=h.toISOString():T.isObject(h)&&(h=JSON.stringify(h)),i.push(we(u)+"="+we(h))}))}),r=i.join("&")}if(r){var o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+r}return e},Ht=S;function J(){this.handlers=[]}J.prototype.use=function(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1};J.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};J.prototype.forEach=function(e){Ht.forEach(this.handlers,function(s){s!==null&&e(s)})};var Jt=J,zt=S,Kt=function(e,n){zt.forEach(e,function(r,i){i!==n&&i.toUpperCase()===n.toUpperCase()&&(e[n]=r,delete e[i])})},at=function(e,n,s,r,i){return e.config=n,s&&(e.code=s),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e},W,Ce;function ot(){if(Ce)return W;Ce=1;var t=at;return W=function(n,s,r,i,o){var a=new Error(n);return t(a,s,r,i,o)},W}var V,Oe;function Wt(){if(Oe)return V;Oe=1;var t=ot();return V=function(n,s,r){var i=r.config.validateStatus;!r.status||!i||i(r.status)?n(r):s(t("Request failed with status code "+r.status,r.config,null,r.request,r))},V}var G,xe;function Vt(){if(xe)return G;xe=1;var t=S;return G=t.isStandardBrowserEnv()?function(){return{write:function(s,r,i,o,a,c){var u=[];u.push(s+"="+encodeURIComponent(r)),t.isNumber(i)&&u.push("expires="+new Date(i).toGMTString()),t.isString(o)&&u.push("path="+o),t.isString(a)&&u.push("domain="+a),c===!0&&u.push("secure"),document.cookie=u.join("; ")},read:function(s){var r=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(s){this.write(s,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),G}var X,Ae;function Gt(){return Ae||(Ae=1,X=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}),X}var Y,Ue;function Xt(){return Ue||(Ue=1,Y=function(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e}),Y}var Z,Ne;function Yt(){if(Ne)return Z;Ne=1;var t=Gt(),e=Xt();return Z=function(s,r){return s&&!t(r)?e(s,r):r},Z}var ee,Pe;function Zt(){if(Pe)return ee;Pe=1;var t=S,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return ee=function(s){var r={},i,o,a;return s&&t.forEach(s.split(`
`),function(u){if(a=u.indexOf(":"),i=t.trim(u.substr(0,a)).toLowerCase(),o=t.trim(u.substr(a+1)),i){if(r[i]&&e.indexOf(i)>=0)return;i==="set-cookie"?r[i]=(r[i]?r[i]:[]).concat([o]):r[i]=r[i]?r[i]+", "+o:o}}),r},ee}var te,Te;function er(){if(Te)return te;Te=1;var t=S;return te=t.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a"),r;function i(o){var a=o;return n&&(s.setAttribute("href",a),a=s.href),s.setAttribute("href",a),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:s.pathname.charAt(0)==="/"?s.pathname:"/"+s.pathname}}return r=i(window.location.href),function(a){var c=t.isString(a)?i(a):a;return c.protocol===r.protocol&&c.host===r.host}}():function(){return function(){return!0}}(),te}var re,Ie;function Fe(){if(Ie)return re;Ie=1;var t=S,e=Wt(),n=Vt(),s=it,r=Yt(),i=Zt(),o=er(),a=ot();return re=function(u){return new Promise(function(h,d){var f=u.data,v=u.headers,g=u.responseType;t.isFormData(f)&&delete v["Content-Type"];var l=new XMLHttpRequest;if(u.auth){var L=u.auth.username||"",j=u.auth.password?unescape(encodeURIComponent(u.auth.password)):"";v.Authorization="Basic "+btoa(L+":"+j)}var m=r(u.baseURL,u.url);l.open(u.method.toUpperCase(),s(m,u.params,u.paramsSerializer),!0),l.timeout=u.timeout;function q(){if(!!l){var y="getAllResponseHeaders"in l?i(l.getAllResponseHeaders()):null,E=!g||g==="text"||g==="json"?l.responseText:l.response,x={data:E,status:l.status,statusText:l.statusText,headers:y,config:u,request:l};e(h,d,x),l=null}}if("onloadend"in l?l.onloadend=q:l.onreadystatechange=function(){!l||l.readyState!==4||l.status===0&&!(l.responseURL&&l.responseURL.indexOf("file:")===0)||setTimeout(q)},l.onabort=function(){!l||(d(a("Request aborted",u,"ECONNABORTED",l)),l=null)},l.onerror=function(){d(a("Network Error",u,null,l)),l=null},l.ontimeout=function(){var E="timeout of "+u.timeout+"ms exceeded";u.timeoutErrorMessage&&(E=u.timeoutErrorMessage),d(a(E,u,u.transitional&&u.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",l)),l=null},t.isStandardBrowserEnv()){var Q=(u.withCredentials||o(m))&&u.xsrfCookieName?n.read(u.xsrfCookieName):void 0;Q&&(v[u.xsrfHeaderName]=Q)}"setRequestHeader"in l&&t.forEach(v,function(E,x){typeof f>"u"&&x.toLowerCase()==="content-type"?delete v[x]:l.setRequestHeader(x,E)}),t.isUndefined(u.withCredentials)||(l.withCredentials=!!u.withCredentials),g&&g!=="json"&&(l.responseType=u.responseType),typeof u.onDownloadProgress=="function"&&l.addEventListener("progress",u.onDownloadProgress),typeof u.onUploadProgress=="function"&&l.upload&&l.upload.addEventListener("progress",u.onUploadProgress),u.cancelToken&&u.cancelToken.promise.then(function(E){!l||(l.abort(),d(E),l=null)}),f||(f=null),l.send(f)})},re}var b=S,Le=Kt,tr=at,rr={"Content-Type":"application/x-www-form-urlencoded"};function je(t,e){!b.isUndefined(t)&&b.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function nr(){var t;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(t=Fe()),t}function sr(t,e,n){if(b.isString(t))try{return(e||JSON.parse)(t),b.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(t)}var z={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:nr(),transformRequest:[function(e,n){return Le(n,"Accept"),Le(n,"Content-Type"),b.isFormData(e)||b.isArrayBuffer(e)||b.isBuffer(e)||b.isStream(e)||b.isFile(e)||b.isBlob(e)?e:b.isArrayBufferView(e)?e.buffer:b.isURLSearchParams(e)?(je(n,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):b.isObject(e)||n&&n["Content-Type"]==="application/json"?(je(n,"application/json"),sr(e)):e}],transformResponse:[function(e){var n=this.transitional,s=n&&n.silentJSONParsing,r=n&&n.forcedJSONParsing,i=!s&&this.responseType==="json";if(i||r&&b.isString(e)&&e.length)try{return JSON.parse(e)}catch(o){if(i)throw o.name==="SyntaxError"?tr(o,this,"E_JSON_PARSE"):o}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};z.headers={common:{Accept:"application/json, text/plain, */*"}};b.forEach(["delete","get","head"],function(e){z.headers[e]={}});b.forEach(["post","put","patch"],function(e){z.headers[e]=b.merge(rr)});var Re=z,ir=S,ar=Re,or=function(e,n,s){var r=this||ar;return ir.forEach(s,function(o){e=o.call(r,e,n)}),e},ne,qe;function ut(){return qe||(qe=1,ne=function(e){return!!(e&&e.__CANCEL__)}),ne}var Qe=S,se=or,ur=ut(),cr=Re;function ie(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var lr=function(e){ie(e),e.headers=e.headers||{},e.data=se.call(e,e.data,e.headers,e.transformRequest),e.headers=Qe.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),Qe.forEach(["delete","get","head","post","put","patch","common"],function(r){delete e.headers[r]});var n=e.adapter||cr.adapter;return n(e).then(function(r){return ie(e),r.data=se.call(e,r.data,r.headers,e.transformResponse),r},function(r){return ur(r)||(ie(e),r&&r.response&&(r.response.data=se.call(e,r.response.data,r.response.headers,e.transformResponse))),Promise.reject(r)})},R=S,ct=function(e,n){n=n||{};var s={},r=["url","method","data"],i=["headers","auth","proxy","params"],o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function c(d,f){return R.isPlainObject(d)&&R.isPlainObject(f)?R.merge(d,f):R.isPlainObject(f)?R.merge({},f):R.isArray(f)?f.slice():f}function u(d){R.isUndefined(n[d])?R.isUndefined(e[d])||(s[d]=c(void 0,e[d])):s[d]=c(e[d],n[d])}R.forEach(r,function(f){R.isUndefined(n[f])||(s[f]=c(void 0,n[f]))}),R.forEach(i,u),R.forEach(o,function(f){R.isUndefined(n[f])?R.isUndefined(e[f])||(s[f]=c(void 0,e[f])):s[f]=c(void 0,n[f])}),R.forEach(a,function(f){f in n?s[f]=c(e[f],n[f]):f in e&&(s[f]=c(void 0,e[f]))});var p=r.concat(i).concat(o).concat(a),h=Object.keys(e).concat(Object.keys(n)).filter(function(f){return p.indexOf(f)===-1});return R.forEach(h,u),s};const fr="axios",dr="0.21.4",hr="Promise based HTTP client for the browser and node.js",pr="index.js",vr={test:"grunt test",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},mr={type:"git",url:"https://github.com/axios/axios.git"},yr=["xhr","http","ajax","promise","node"],br="Matt Zabriskie",Rr="MIT",gr={url:"https://github.com/axios/axios/issues"},Sr="https://axios-http.com",Er={coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},wr={"./lib/adapters/http.js":"./lib/adapters/xhr.js"},Cr="dist/axios.min.js",Or="dist/axios.min.js",xr="./index.d.ts",Ar={"follow-redirects":"^1.14.0"},Ur=[{path:"./dist/axios.min.js",threshold:"5kB"}],Nr={name:fr,version:dr,description:hr,main:pr,scripts:vr,repository:mr,keywords:yr,author:br,license:Rr,bugs:gr,homepage:Sr,devDependencies:Er,browser:wr,jsdelivr:Cr,unpkg:Or,typings:xr,dependencies:Ar,bundlesize:Ur};var lt=Nr,ge={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){ge[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});var ke={},Pr=lt.version.split(".");function ft(t,e){for(var n=e?e.split("."):Pr,s=t.split("."),r=0;r<3;r++){if(n[r]>s[r])return!0;if(n[r]<s[r])return!1}return!1}ge.transitional=function(e,n,s){var r=n&&ft(n);function i(o,a){return"[Axios v"+lt.version+"] Transitional option '"+o+"'"+a+(s?". "+s:"")}return function(o,a,c){if(e===!1)throw new Error(i(a," has been removed in "+n));return r&&!ke[a]&&(ke[a]=!0,console.warn(i(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,a,c):!0}};function Tr(t,e,n){if(typeof t!="object")throw new TypeError("options must be an object");for(var s=Object.keys(t),r=s.length;r-- >0;){var i=s[r],o=e[i];if(o){var a=t[i],c=a===void 0||o(a,i,t);if(c!==!0)throw new TypeError("option "+i+" must be "+c);continue}if(n!==!0)throw Error("Unknown option "+i)}}var Ir={isOlderVersion:ft,assertOptions:Tr,validators:ge},dt=S,Fr=it,_e=Jt,De=lr,K=ct,ht=Ir,I=ht.validators;function _(t){this.defaults=t,this.interceptors={request:new _e,response:new _e}}_.prototype.request=function(e){typeof e=="string"?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=K(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var n=e.transitional;n!==void 0&&ht.assertOptions(n,{silentJSONParsing:I.transitional(I.boolean,"1.0.0"),forcedJSONParsing:I.transitional(I.boolean,"1.0.0"),clarifyTimeoutError:I.transitional(I.boolean,"1.0.0")},!1);var s=[],r=!0;this.interceptors.request.forEach(function(d){typeof d.runWhen=="function"&&d.runWhen(e)===!1||(r=r&&d.synchronous,s.unshift(d.fulfilled,d.rejected))});var i=[];this.interceptors.response.forEach(function(d){i.push(d.fulfilled,d.rejected)});var o;if(!r){var a=[De,void 0];for(Array.prototype.unshift.apply(a,s),a=a.concat(i),o=Promise.resolve(e);a.length;)o=o.then(a.shift(),a.shift());return o}for(var c=e;s.length;){var u=s.shift(),p=s.shift();try{c=u(c)}catch(h){p(h);break}}try{o=De(c)}catch(h){return Promise.reject(h)}for(;i.length;)o=o.then(i.shift(),i.shift());return o};_.prototype.getUri=function(e){return e=K(this.defaults,e),Fr(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};dt.forEach(["delete","get","head","options"],function(e){_.prototype[e]=function(n,s){return this.request(K(s||{},{method:e,url:n,data:(s||{}).data}))}});dt.forEach(["post","put","patch"],function(e){_.prototype[e]=function(n,s,r){return this.request(K(r||{},{method:e,url:n,data:s}))}});var Lr=_,ae,Be;function pt(){if(Be)return ae;Be=1;function t(e){this.message=e}return t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,ae=t,ae}var oe,$e;function jr(){if($e)return oe;$e=1;var t=pt();function e(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var s;this.promise=new Promise(function(o){s=o});var r=this;n(function(o){r.reason||(r.reason=new t(o),s(r.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.source=function(){var s,r=new e(function(o){s=o});return{token:r,cancel:s}},oe=e,oe}var ue,Me;function qr(){return Me||(Me=1,ue=function(e){return function(s){return e.apply(null,s)}}),ue}var ce,He;function Qr(){return He||(He=1,ce=function(e){return typeof e=="object"&&e.isAxiosError===!0}),ce}var Je=S,kr=rt,$=Lr,_r=ct,Dr=Re;function vt(t){var e=new $(t),n=kr($.prototype.request,e);return Je.extend(n,$.prototype,e),Je.extend(n,e),n}var C=vt(Dr);C.Axios=$;C.create=function(e){return vt(_r(C.defaults,e))};C.Cancel=pt();C.CancelToken=jr();C.isCancel=ut();C.all=function(e){return Promise.all(e)};C.spread=qr();C.isAxiosError=Qr();me.exports=C;me.exports.default=C;(function(t){t.exports=me.exports})(tt);const mt=Ot(tt.exports),H=mt.create({baseURL:"/api"}),yt=t=>({active:t.active,createdAt:new Date(t.created_at),email:t.email,firstName:t.first_name,id:t.id,lastName:t.last_name,updatedAt:new Date(t.updated_at)});async function Br(t,e){const n=await H.post("/sessions",{email:t,password:e}),{jwt:s}=n.data;return bt(s)}async function bt(t){const e=await H.get("/session",{headers:{Authorization:`Bearer ${t}`}});return{user:yt(e.data.user),jwt:t}}const Rt=t=>({createdAt:new Date(t.created_at),id:t.id,name:t.name,updatedAt:new Date(t.updated_at),users:t.users.map(yt)}),$r=t=>t.get("/organizations").then(e=>e.data.map(Rt)),Cn=(t,e)=>t.get(`/organizations/${e}`).then(n=>Rt(n.data));const Mr={Small:"sm",Medium:"md",Large:"lg"};function Se(t){return k("div",{className:xt("spinner",`spinner--${t.size}`,t.centered&&"spinner--centered"),children:k("svg",{className:"spinner__svg",viewBox:"0 0 50 50","aria-hidden":"true",children:k("circle",{cx:"25",cy:"25",r:"20",fill:"none",strokeWidth:"5"})})})}Se.defaultProps={size:Mr.Small};Se.__docgenInfo={description:"",methods:[],displayName:"Spinner",props:{size:{defaultValue:{value:'"sm"',computed:!1},required:!1}}};var gt=function(){function t(){this.listeners=[]}var e=t.prototype;return e.subscribe=function(s){var r=this,i=s||function(){};return this.listeners.push(i),this.onSubscribe(),function(){r.listeners=r.listeners.filter(function(o){return o!==i}),r.onUnsubscribe()}},e.hasListeners=function(){return this.listeners.length>0},e.onSubscribe=function(){},e.onUnsubscribe=function(){},t}(),pe=typeof window>"u";function Hr(){}function ze(t){return typeof t=="number"&&t>=0&&t!==1/0}function Jr(t,e){return Math.max(t+(e||0)-Date.now(),0)}function zr(t,e,n){return Wr(t)?typeof e=="function"?M({},n,{queryKey:t,queryFn:e}):M({},e,{queryKey:t}):t}function ve(t,e){if(t===e)return t;var n=Array.isArray(t)&&Array.isArray(e);if(n||Ke(t)&&Ke(e)){for(var s=n?t.length:Object.keys(t).length,r=n?e:Object.keys(e),i=r.length,o=n?[]:{},a=0,c=0;c<i;c++){var u=n?c:r[c];o[u]=ve(t[u],e[u]),o[u]===t[u]&&a++}return s===i&&a===s?t:o}return e}function Kr(t,e){if(t&&!e||e&&!t)return!1;for(var n in t)if(t[n]!==e[n])return!1;return!0}function Ke(t){if(!We(t))return!1;var e=t.constructor;if(typeof e>"u")return!0;var n=e.prototype;return!(!We(n)||!n.hasOwnProperty("isPrototypeOf"))}function We(t){return Object.prototype.toString.call(t)==="[object Object]"}function Wr(t){return typeof t=="string"||Array.isArray(t)}function Ve(t){Promise.resolve().then(t).catch(function(e){return setTimeout(function(){throw e})})}var Vr=function(t){et(e,t);function e(){var s;return s=t.call(this)||this,s.setup=function(r){var i;if(!pe&&((i=window)==null?void 0:i.addEventListener)){var o=function(){return r()};return window.addEventListener("visibilitychange",o,!1),window.addEventListener("focus",o,!1),function(){window.removeEventListener("visibilitychange",o),window.removeEventListener("focus",o)}}},s}var n=e.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var r;(r=this.cleanup)==null||r.call(this),this.cleanup=void 0}},n.setEventListener=function(r){var i,o=this;this.setup=r,(i=this.cleanup)==null||i.call(this),this.cleanup=r(function(a){typeof a=="boolean"?o.setFocused(a):o.onFocus()})},n.setFocused=function(r){this.focused=r,r&&this.onFocus()},n.onFocus=function(){this.listeners.forEach(function(r){r()})},n.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},e}(gt),Gr=new Vr,Xr=function(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent};function Yr(t){return t instanceof Xr}var Zr=function(){function t(){this.queue=[],this.transactions=0,this.notifyFn=function(n){n()},this.batchNotifyFn=function(n){n()}}var e=t.prototype;return e.batch=function(s){var r;this.transactions++;try{r=s()}finally{this.transactions--,this.transactions||this.flush()}return r},e.schedule=function(s){var r=this;this.transactions?this.queue.push(s):Ve(function(){r.notifyFn(s)})},e.batchCalls=function(s){var r=this;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];r.schedule(function(){s.apply(void 0,o)})}},e.flush=function(){var s=this,r=this.queue;this.queue=[],r.length&&Ve(function(){s.batchNotifyFn(function(){r.forEach(function(i){s.notifyFn(i)})})})},e.setNotifyFunction=function(s){this.notifyFn=s},e.setBatchNotifyFunction=function(s){this.batchNotifyFn=s},t}(),F=new Zr,St=console;function Ge(){return St}function en(t){St=t}var tn=function(t){et(e,t);function e(s,r){var i;return i=t.call(this)||this,i.client=s,i.options=r,i.trackedProps=[],i.previousSelectError=null,i.bindMethods(),i.setOptions(r),i}var n=e.prototype;return n.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},n.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),Xe(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},n.onUnsubscribe=function(){this.listeners.length||this.destroy()},n.shouldFetchOnReconnect=function(){return sn(this.currentQuery,this.options)},n.shouldFetchOnWindowFocus=function(){return an(this.currentQuery,this.options)},n.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},n.setOptions=function(r,i){var o=this.options,a=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(r),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=o.queryKey),this.updateQuery();var c=this.hasListeners();c&&Ye(this.currentQuery,a,this.options,o)&&this.executeFetch(),this.updateResult(i),c&&(this.currentQuery!==a||this.options.enabled!==o.enabled||this.options.staleTime!==o.staleTime)&&this.updateStaleTimeout();var u=this.computeRefetchInterval();c&&(this.currentQuery!==a||this.options.enabled!==o.enabled||u!==this.currentRefetchInterval)&&this.updateRefetchInterval(u)},n.getOptimisticResult=function(r){var i=this.client.defaultQueryObserverOptions(r),o=this.client.getQueryCache().build(this.client,i);return this.createResult(o,i)},n.getCurrentResult=function(){return this.currentResult},n.trackResult=function(r,i){var o=this,a={},c=function(p){o.trackedProps.includes(p)||o.trackedProps.push(p)};return Object.keys(r).forEach(function(u){Object.defineProperty(a,u,{configurable:!1,enumerable:!0,get:function(){return c(u),r[u]}})}),(i.useErrorBoundary||i.suspense)&&c("error"),a},n.getNextResult=function(r){var i=this;return new Promise(function(o,a){var c=i.subscribe(function(u){u.isFetching||(c(),u.isError&&(r==null?void 0:r.throwOnError)?a(u.error):o(u))})})},n.getCurrentQuery=function(){return this.currentQuery},n.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},n.refetch=function(r){return this.fetch(M({},r,{meta:{refetchPage:r==null?void 0:r.refetchPage}}))},n.fetchOptimistic=function(r){var i=this,o=this.client.defaultQueryObserverOptions(r),a=this.client.getQueryCache().build(this.client,o);return a.fetch().then(function(){return i.createResult(a,o)})},n.fetch=function(r){var i=this;return this.executeFetch(r).then(function(){return i.updateResult(),i.currentResult})},n.executeFetch=function(r){this.updateQuery();var i=this.currentQuery.fetch(this.options,r);return r!=null&&r.throwOnError||(i=i.catch(Hr)),i},n.updateStaleTimeout=function(){var r=this;if(this.clearStaleTimeout(),!(pe||this.currentResult.isStale||!ze(this.options.staleTime))){var i=Jr(this.currentResult.dataUpdatedAt,this.options.staleTime),o=i+1;this.staleTimeoutId=setTimeout(function(){r.currentResult.isStale||r.updateResult()},o)}},n.computeRefetchInterval=function(){var r;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(r=this.options.refetchInterval)!=null?r:!1},n.updateRefetchInterval=function(r){var i=this;this.clearRefetchInterval(),this.currentRefetchInterval=r,!(pe||this.options.enabled===!1||!ze(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(i.options.refetchIntervalInBackground||Gr.isFocused())&&i.executeFetch()},this.currentRefetchInterval))},n.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},n.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},n.clearStaleTimeout=function(){clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0},n.clearRefetchInterval=function(){clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0},n.createResult=function(r,i){var o=this.currentQuery,a=this.options,c=this.currentResult,u=this.currentResultState,p=this.currentResultOptions,h=r!==o,d=h?r.state:this.currentQueryInitialState,f=h?this.currentResult:this.previousQueryResult,v=r.state,g=v.dataUpdatedAt,l=v.error,L=v.errorUpdatedAt,j=v.isFetching,m=v.status,q=!1,Q=!1,y;if(i.optimisticResults){var E=this.hasListeners(),x=!E&&Xe(r,i),wt=E&&Ye(r,o,i,a);(x||wt)&&(j=!0,g||(m="loading"))}if(i.keepPreviousData&&!v.dataUpdateCount&&(f==null?void 0:f.isSuccess)&&m!=="error")y=f.data,g=f.dataUpdatedAt,m=f.status,q=!0;else if(i.select&&typeof v.data<"u"){var Ee;if(c&&v.data===(u==null?void 0:u.data)&&i.select===((Ee=this.previousSelect)==null?void 0:Ee.fn)&&!this.previousSelectError)y=this.previousSelect.result;else try{y=i.select(v.data),i.structuralSharing!==!1&&(y=ve(c==null?void 0:c.data,y)),this.previousSelect={fn:i.select,result:y},this.previousSelectError=null}catch(A){Ge().error(A),l=A,this.previousSelectError=A,L=Date.now(),m="error"}}else y=v.data;if(typeof i.placeholderData<"u"&&typeof y>"u"&&(m==="loading"||m==="idle")){var O;if((c==null?void 0:c.isPlaceholderData)&&i.placeholderData===(p==null?void 0:p.placeholderData))O=c.data;else if(O=typeof i.placeholderData=="function"?i.placeholderData():i.placeholderData,i.select&&typeof O<"u")try{O=i.select(O),i.structuralSharing!==!1&&(O=ve(c==null?void 0:c.data,O)),this.previousSelectError=null}catch(A){Ge().error(A),l=A,this.previousSelectError=A,L=Date.now(),m="error"}typeof O<"u"&&(m="success",y=O,Q=!0)}var Ct={status:m,isLoading:m==="loading",isSuccess:m==="success",isError:m==="error",isIdle:m==="idle",data:y,dataUpdatedAt:g,error:l,errorUpdatedAt:L,failureCount:v.fetchFailureCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>d.dataUpdateCount||v.errorUpdateCount>d.errorUpdateCount,isFetching:j,isRefetching:j&&m!=="loading",isLoadingError:m==="error"&&v.dataUpdatedAt===0,isPlaceholderData:Q,isPreviousData:q,isRefetchError:m==="error"&&v.dataUpdatedAt!==0,isStale:D(r,i),refetch:this.refetch,remove:this.remove};return Ct},n.shouldNotifyListeners=function(r,i){if(!i)return!0;var o=this.options,a=o.notifyOnChangeProps,c=o.notifyOnChangePropsExclusions;if(!a&&!c||a==="tracked"&&!this.trackedProps.length)return!0;var u=a==="tracked"?this.trackedProps:a;return Object.keys(r).some(function(p){var h=p,d=r[h]!==i[h],f=u==null?void 0:u.some(function(g){return g===p}),v=c==null?void 0:c.some(function(g){return g===p});return d&&!v&&(!u||f)})},n.updateResult=function(r){var i=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!Kr(this.currentResult,i)){var o={cache:!0};(r==null?void 0:r.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,i)&&(o.listeners=!0),this.notify(M({},o,r))}},n.updateQuery=function(){var r=this.client.getQueryCache().build(this.client,this.options);if(r!==this.currentQuery){var i=this.currentQuery;this.currentQuery=r,this.currentQueryInitialState=r.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(i==null||i.removeObserver(this),r.addObserver(this))}},n.onQueryUpdate=function(r){var i={};r.type==="success"?i.onSuccess=!0:r.type==="error"&&!Yr(r.error)&&(i.onError=!0),this.updateResult(i),this.hasListeners()&&this.updateTimers()},n.notify=function(r){var i=this;F.batch(function(){r.onSuccess?(i.options.onSuccess==null||i.options.onSuccess(i.currentResult.data),i.options.onSettled==null||i.options.onSettled(i.currentResult.data,null)):r.onError&&(i.options.onError==null||i.options.onError(i.currentResult.error),i.options.onSettled==null||i.options.onSettled(void 0,i.currentResult.error)),r.listeners&&i.listeners.forEach(function(o){o(i.currentResult)}),r.cache&&i.client.getQueryCache().notify({query:i.currentQuery,type:"observerResultsUpdated"})})},e}(gt);function rn(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function nn(t,e){return e.enabled!==!1&&t.state.dataUpdatedAt>0&&(e.refetchOnMount==="always"||e.refetchOnMount!==!1&&D(t,e))}function Xe(t,e){return rn(t,e)||nn(t,e)}function sn(t,e){return e.enabled!==!1&&(e.refetchOnReconnect==="always"||e.refetchOnReconnect!==!1&&D(t,e))}function an(t,e){return e.enabled!==!1&&(e.refetchOnWindowFocus==="always"||e.refetchOnWindowFocus!==!1&&D(t,e))}function Ye(t,e,n,s){return n.enabled!==!1&&(t!==e||s.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&D(t,n)}function D(t,e){return t.isStaleByTime(e.staleTime)}var on=At.unstable_batchedUpdates;F.setBatchNotifyFunction(on);var un=console;en(un);var Ze=w.createContext(void 0),cn=w.createContext(!1);function ln(t){return t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Ze),window.ReactQueryClientContext):Ze}var fn=function(){var e=w.useContext(ln(w.useContext(cn)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e};function dn(){var t=!1;return{clearReset:function(){t=!1},reset:function(){t=!0},isReset:function(){return t}}}var hn=w.createContext(dn()),pn=function(){return w.useContext(hn)};function vn(t,e,n){return typeof e=="function"?e.apply(void 0,n):typeof e=="boolean"?e:!!t}function mn(t,e){var n=w.useRef(!1),s=w.useState(0),r=s[1],i=fn(),o=pn(),a=i.defaultQueryObserverOptions(t);a.optimisticResults=!0,a.onError&&(a.onError=F.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=F.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=F.batchCalls(a.onSettled)),a.suspense&&(typeof a.staleTime!="number"&&(a.staleTime=1e3),a.cacheTime===0&&(a.cacheTime=1)),(a.suspense||a.useErrorBoundary)&&(o.isReset()||(a.retryOnMount=!1));var c=w.useState(function(){return new e(i,a)}),u=c[0],p=u.getOptimisticResult(a);if(w.useEffect(function(){n.current=!0,o.clearReset();var h=u.subscribe(F.batchCalls(function(){n.current&&r(function(d){return d+1})}));return u.updateResult(),function(){n.current=!1,h()}},[o,u]),w.useEffect(function(){u.setOptions(a,{listeners:!1})},[a,u]),a.suspense&&p.isLoading)throw u.fetchOptimistic(a).then(function(h){var d=h.data;a.onSuccess==null||a.onSuccess(d),a.onSettled==null||a.onSettled(d,null)}).catch(function(h){o.clearReset(),a.onError==null||a.onError(h),a.onSettled==null||a.onSettled(void 0,h)});if(p.isError&&!o.isReset()&&!p.isFetching&&vn(a.suspense,a.useErrorBoundary,[p.error,u.getCurrentQuery()]))throw p.error;return a.notifyOnChangeProps==="tracked"&&(p=u.trackResult(p,a)),p}function yn(t,e,n){var s=zr(t,e,n);return mn(s,tn)}const Et=N.exports.createContext(),U={PENDING:"PENDING",ERROR:"ERROR",SUCCESS:"SUCCESS",LOGIN_REQUIRED:"LOGIN_REQUIRED"},le="credentials",fe={save(t){return console.debug("Saving credentials to cache",t),localStorage.setItem(le,JSON.stringify(t))},load(){const t=JSON.parse(localStorage.getItem(le));return console.debug("Loading credentials from cache",t),t},clear(){console.debug("Clearing credentials from cache"),localStorage.removeItem(le)}},bn=({children:t})=>{const[e,n]=N.exports.useState({status:U.PENDING,error:null,user:null,jwt:null}),s=mt.create({...H.defaults,headers:{...H.headers,Authorization:`Bearer ${e.jwt}`}}),r=N.exports.useCallback(()=>{fe.clear(),n({status:U.LOGIN_REQUIRED,error:null,user:null,jwt:null})},[]),i=N.exports.useCallback(async(u,p)=>{try{const{jwt:h,user:d}=await Br(u,p);fe.save(h),n({status:U.SUCCESS,error:null,user:d,jwt:h})}catch(h){throw n({status:U.ERROR,error:h,user:null,jwt:null}),h}},[]),{data:o}=yn(["organizations",e,s],()=>$r(s),{enabled:e.status===U.SUCCESS}),a=N.exports.useCallback(async u=>{try{const{user:p,jwt:h}=await bt(u);n({status:U.SUCCESS,error:null,user:p,jwt:h})}catch{r()}},[r]),c={...e,login:i,logout:r,authenticatedApiClient:s,organizations:o};return N.exports.useEffect(()=>{const u=fe.load();a(u)},[a]),e.status===U.PENDING?k(Se,{}):k(Et.Provider,{value:c,children:t})},On=()=>N.exports.useContext(Et);bn.__docgenInfo={description:"",methods:[],displayName:"CurrentUserProvider"};export{Et as C,mt as a,yn as b,U as c,bn as d,Cn as g,On as u};
//# sourceMappingURL=currentUserContext.4e2e14fe.js.map
